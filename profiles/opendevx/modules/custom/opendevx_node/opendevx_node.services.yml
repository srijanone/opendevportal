services:
  opendevx_node.node:
    class: Drupal\opendevx_node\Node
    arguments: ['@database', '@current_user', '@entity_type.manager']

  opendevx_node.form_alter_subscriber:
    class: Drupal\opendevx_node\EventSubscriber\FormAlterSubscriber
    arguments: ['@request_stack', '@entity_type.manager', '@opendevx_user.organisation']
    tags:
      - { name: event_subscriber }

  opendevx_node.entity_add_subscriber:
    class: Drupal\opendevx_node\EventSubscriber\EntityAddSubscriber
    tags:
      - { name: event_subscriber }

  opendevx_node.usergroup:
    class: Drupal\opendevx_node\UserGroupService
    arguments: ['@current_user', '@entity_type.manager', '@group.membership_loader']

  opendevx_node.route_subscriber:
    class: Drupal\opendevx_node\Routing\RouteSubscriber
    tags:
      - { name: event_subscriber }

  opendevx_node.access_check:
    class: Drupal\opendevx_node\EventSubscriber\Access
    tags:
      - { name: event_subscriber }
