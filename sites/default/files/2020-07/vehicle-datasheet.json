{
  "openapi" : "3.0.1",
  "info" : {
    "title" : "vehicle-datasheet",
    "description" : "Car and light Commercial information sheet",
    "contact" : {
      "email" : "dev@vdataservices.com"
    },
    "license" : {
      "name" : "MIT"
    },
    "version" : "1.0"
  },
  "servers" : [ {
    "url" : "https://us-west.dev1.apigateway.michelingroup.com/gateway/vehicle-datasheet/1.0"
  } ],
  "security" : [ {
    "apiKey" : [ ]
  } ],
  "tags" : [ {
    "name" : "Authentication",
    "description" : "Authentication"
  }, {
    "name" : "Car and Light Commercial Vehicle Datasheet",
    "description" : "Car and light Commercial information sheet"
  } ],
  "paths" : {
    "/vehicles/cars/information" : {
      "summary" : "/vehicles/cars/information",
      "get" : {
        "tags" : [ "Car and Light Commercial Vehicle Datasheet" ],
        "summary" : "Car and Light Commercial Vehicle Datasheet",
        "description" : "This service allows to retrieve information related to an identified vehicle and organized by data blocks: \"standard\", \"description\", \"general\",\"technical\", \"administrative\",\"connectivity”, “rims and tires”. <br/><br/>Vehicle datasheet is available by Version Id if you have previously identified the vehicle using Brands/models/versions directory or by license Plate. In the case the service “version_by_plate” returns several version Ids, you must then use both “VersionId + licensePlate” as mandatory parameters to retrieve the vehicle datasheet.\n",
        "operationId" : "vehicle_sheet",
        "parameters" : [ {
          "name" : "versionId",
          "in" : "query",
          "description" : "UUID vehicle version",
          "required" : false,
          "allowEmptyValue" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "licensePlate",
          "in" : "query",
          "description" : "License plate number",
          "required" : false,
          "allowEmptyValue" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "country",
          "in" : "query",
          "required" : false,
          "allowEmptyValue" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "required" : false,
          "allowEmptyValue" : false,
          "$ref" : "#/components/parameters/headerLanguage"
        } ],
        "responses" : {
          "200" : {
            "description" : "Success",
            "headers" : { },
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/VehicleSheet"
                },
                "examples" : { }
              }
            },
            "links" : { }
          },
          "400" : {
            "description" : "Bad request",
            "headers" : { },
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Error"
                },
                "examples" : { }
              }
            },
            "links" : { }
          },
          "500" : {
            "description" : "Internal error",
            "headers" : { },
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Error"
                },
                "examples" : { }
              }
            },
            "links" : { }
          },
          "403" : {
            "description" : "Authentication error",
            "headers" : { },
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Error"
                },
                "examples" : { }
              }
            },
            "links" : { }
          },
          "404" : {
            "description" : "Bad request",
            "headers" : { },
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Error"
                },
                "examples" : { }
              }
            },
            "links" : { }
          }
        }
      },
      "parameters" : [ ]
    },
    "/auth" : {
      "summary" : "/auth",
      "post" : {
        "tags" : [ "Authentication" ],
        "summary" : "JWT Authentication",
        "description" : "If authentication is successful, a JWT token is returned. This token must be decoded (with Javascript/PHP/Java or other langage library) to access the payload part : \n\n    \n    {\n        \"iss\": \"vds-api\",\n        \"jti\": \"5c66897a1c226\",\n        \"iat\": 1550223738,\n        \"exp\": 1550223978,\n        \"customer_code\": \"VDS-API\",\n        \"customer_api_key\": \"2i56phKJ81tx386VJTU1N21v8817dgOQ\",\n        \"customer_raison_sociale\": \"V DATA SERVICES TEST\"\n    }\n    \nThe **exp** field contains the expiration time of the token (timestamp).  After this time the token become invalid, so the API consumer should retrieve a new token  before expiration time.\n       \n\nFor all the next requests to the API, these HTTP headers must be defined :\n    \n| Header | Value |\n|-----|-----|\n| VDS-API-KEY     | token field value of **customer_api_key**  |\n| Authorization   | Bearer **token**                    |                    \n\nTo know more on JWT Token, see https://jwt.io/\n",
        "operationId" : "authentification",
        "parameters" : [ ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "type" : "object",
                "properties" : {
                  "clientId" : {
                    "type" : "string",
                    "example" : "GhR0x4V3G2q3fdWeyOJ1HUqMMU"
                  },
                  "clientSecret" : {
                    "type" : "string",
                    "example" : "MmyJsR9zzdpuYqEV3G2q3fdWey"
                  }
                }
              },
              "examples" : { }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "Success",
            "headers" : { },
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "object",
                  "properties" : {
                    "token" : {
                      "type" : "string",
                      "description" : "JWT Token",
                      "example" : "eyJ0eXAiOiJKV1QiLCJ.eyJpuNvh4bsIGIIHNkB0AggkFWPPMa7Xo"
                    }
                  }
                },
                "examples" : { }
              }
            },
            "links" : { }
          },
          "400" : {
            "description" : "Bad request",
            "headers" : { },
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Error"
                },
                "examples" : { }
              }
            },
            "links" : { }
          },
          "500" : {
            "description" : "Internal error",
            "headers" : { },
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Error"
                },
                "examples" : { }
              }
            },
            "links" : { }
          },
          "403" : {
            "description" : "Authentication error",
            "headers" : { },
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Error"
                },
                "examples" : { }
              }
            },
            "links" : { }
          }
        }
      },
      "parameters" : [ ]
    }
  },
  "components" : {
    "schemas" : {
      "Brand" : {
        "type" : "object",
        "properties" : {
          "brandTiny" : {
            "type" : "string",
            "description" : "Brand name (lowercase)",
            "example" : "alfa romeo"
          },
          "countryCode" : {
            "type" : "string",
            "description" : "country code",
            "example" : "fr"
          },
          "id" : {
            "type" : "string",
            "description" : "brand technical ID",
            "example" : "fe0c2088-4fb3-4cb1-b7e7-7fbec8602279"
          },
          "type" : {
            "type" : "string",
            "description" : "type of vehicle",
            "example" : "VL",
            "enum" : [ "VL", "PL", "TR" ]
          },
          "brand" : {
            "type" : "string",
            "description" : "Brand name",
            "example" : "Alfa Romeo"
          }
        },
        "description" : "entity representing a vehicle brand"
      },
      "historic_mileage" : {
        "type" : "object",
        "properties" : {
          "date" : {
            "type" : "string",
            "format" : "date"
          },
          "mileage" : {
            "type" : "integer",
            "format" : "int32"
          }
        },
        "description" : "Historic mileage"
      },
      "MetadataPagination" : {
        "type" : "object",
        "properties" : {
          "total" : {
            "type" : "integer",
            "description" : "total items",
            "format" : "int32",
            "example" : 10
          },
          "limit" : {
            "type" : "integer",
            "description" : "items par page",
            "format" : "int32",
            "example" : 150
          },
          "page" : {
            "type" : "integer",
            "description" : "current page number",
            "format" : "int32",
            "example" : 1
          }
        },
        "description" : "Metadata on all paginated results"
      },
      "Version" : {
        "type" : "object",
        "properties" : {
          "subbody" : {
            "type" : "string",
            "example" : "(C/S06) (93-07)"
          },
          "fullNameVersion" : {
            "type" : "string",
            "example" : "Twingo 1.2L 16V (C/S06) (93-07)"
          },
          "countryCode" : {
            "type" : "string",
            "example" : "fr"
          },
          "longNameVersion" : {
            "type" : "string",
            "example" : "Twingo 1.2L 16V"
          },
          "model" : {
            "type" : "string",
            "description" : "Model name",
            "example" : "Twingo"
          },
          "versionTiny" : {
            "type" : "string",
            "example" : "twingo 1.2l 16v"
          },
          "id" : {
            "type" : "string",
            "description" : "UUID Version",
            "example" : "b81b7857-13f4-443a-b1d7-293d53f01058"
          },
          "technicalInformations" : {
            "type" : "object",
            "properties" : {
              "litres" : {
                "type" : "number",
                "example" : 1.2
              },
              "engineCode" : {
                "type" : "string",
                "example" : "D4F 702"
              },
              "dinHp" : {
                "type" : "integer",
                "format" : "int32",
                "example" : 75
              },
              "tuning" : {
                "type" : "string",
                "example" : "R-Cat"
              },
              "fuel" : {
                "type" : "string",
                "example" : "ESSENCE"
              },
              "kw" : {
                "type" : "integer",
                "format" : "int32",
                "example" : 55
              },
              "typeAbbr" : {
                "type" : "string",
                "example" : "PC"
              },
              "madeFrom" : {
                "type" : "string",
                "example" : "2000"
              },
              "rpm" : {
                "type" : "integer",
                "format" : "int32",
                "example" : 5500
              },
              "madeUntil" : {
                "type" : "string",
                "example" : "2007"
              },
              "vehtype" : {
                "type" : "string",
                "example" : "1"
              },
              "extraInfo" : {
                "type" : "string",
                "example" : "16V"
              },
              "ktype" : {
                "type" : "string",
                "example" : "15109"
              }
            }
          },
          "type" : {
            "type" : "string",
            "example" : "VL"
          },
          "brand" : {
            "type" : "string",
            "description" : "Nom marque",
            "example" : "Renault"
          },
          "version" : {
            "type" : "string",
            "example" : "Twingo"
          }
        },
        "description" : "Entity version"
      },
      "Model" : {
        "type" : "object",
        "properties" : {
          "modelTiny" : {
            "type" : "string",
            "description" : "model name ()short version)"
          },
          "countryCode" : {
            "type" : "string",
            "description" : "country code",
            "example" : "fr"
          },
          "model" : {
            "type" : "string",
            "description" : "model name"
          },
          "id" : {
            "type" : "string",
            "description" : "model UUID",
            "example" : "576ca83a-703e-4183-a76b-ebfe2a45c35"
          },
          "type" : {
            "type" : "string",
            "description" : "type of vehicle",
            "example" : "VL",
            "enum" : [ "VL", "PL", "TR" ]
          },
          "modelFullName" : {
            "type" : "string",
            "description" : "model name (full version)"
          }
        },
        "description" : "entity representing a vehicle model"
      },
      "Error" : {
        "type" : "object",
        "properties" : {
          "error" : {
            "type" : "object",
            "properties" : {
              "code" : {
                "type" : "integer",
                "format" : "int32",
                "example" : 2000
              },
              "message" : {
                "type" : "string",
                "example" : "Error message"
              }
            }
          }
        },
        "description" : "Error object"
      },
      "cmb" : {
        "type" : "object",
        "properties" : {
          "finalized" : {
            "type" : "boolean",
            "description" : "Indicates whether the car maintenance book is finalized or not"
          },
          "dateDisable" : {
            "type" : "string",
            "description" : "Date of disabled the car maintenance book",
            "format" : "date"
          },
          "enable" : {
            "type" : "boolean",
            "description" : "Indicates whether the car maintenance book is enable or not"
          },
          "lastUpdate" : {
            "type" : "string",
            "description" : "Date last update the car maintenance book",
            "format" : "date-time"
          },
          "scheduleInformations" : {
            "type" : "object",
            "properties" : {
              "maintenanceProgramsAvailable" : {
                "type" : "object",
                "properties" : {
                  "program_aditional_maintenance" : {
                    "type" : "boolean"
                  },
                  "program_inspection" : {
                    "type" : "boolean"
                  },
                  "program_mandatory" : {
                    "type" : "boolean"
                  }
                },
                "description" : "Maintenance programs available for the vehicle"
              },
              "typesApplicablesMaintenancePrograms" : {
                "type" : "object",
                "properties" : {
                  "normal" : {
                    "type" : "boolean"
                  },
                  "severe_condition" : {
                    "type" : "boolean"
                  },
                  "longlife" : {
                    "type" : "boolean"
                  },
                  "annualAverageMileage" : {
                    "type" : "boolean"
                  }
                },
                "description" : "Types applicables maintenance programs for the vehicle"
              }
            },
            "description" : "Schedule informations"
          },
          "conditionUseOfVehicle" : {
            "type" : "object",
            "properties" : {
              "severe_condition" : {
                "type" : "boolean",
                "description" : "vehicle used in severe conditions"
              },
              "current_program" : {
                "type" : "string",
                "description" : "Currently selected maintenance program type",
                "example" : "Normal",
                "enum" : [ "None", "Normal", "Severe", "LongLife", "Normal_more", "Normal_less", "Severe_more", "Severe_less" ]
              },
              "annual_average_mileage" : {
                "type" : "integer",
                "description" : "annual average mileage of the vehicle",
                "format" : "int32",
                "example" : 16800
              },
              "longlife_program" : {
                "type" : "boolean",
                "description" : "vehicle maintained with a longlife program"
              },
              "mileage" : {
                "type" : "integer",
                "description" : "mileage of the vehicle",
                "format" : "int32",
                "example" : 280500
              }
            },
            "description" : "Vehicle usage condition"
          },
          "id" : {
            "type" : "string",
            "description" : "UUID car mainteance book or your identifier"
          },
          "creationDate" : {
            "type" : "string",
            "description" : "Date created the car maintenance book",
            "format" : "date-time"
          }
        },
        "description" : "Entity car maintenance book"
      }
    },
    "responses" : { },
    "parameters" : {
      "headerLanguage" : {
        "name" : "Accept-Language",
        "in" : "header",
        "required" : false,
        "allowEmptyValue" : false,
        "schema" : {
          "type" : "string"
        }
      },
      "numberPerPage" : {
        "name" : "limit",
        "in" : "query",
        "description" : "Number of items per page",
        "required" : false,
        "allowEmptyValue" : false,
        "schema" : {
          "type" : "integer",
          "format" : "int64"
        }
      },
      "page" : {
        "name" : "page",
        "in" : "query",
        "description" : "Current page number",
        "required" : false,
        "allowEmptyValue" : false,
        "schema" : {
          "type" : "integer",
          "format" : "int64"
        }
      }
    },
    "examples" : { },
    "requestBodies" : { },
    "headers" : { },
    "securitySchemes" : {
      "apiKey" : {
        "type" : "apiKey",
        "name" : "x-Gateway-APIKey",
        "in" : "header"
      }
    },
    "links" : { },
    "callbacks" : { }
  }
}